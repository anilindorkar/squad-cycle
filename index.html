<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Squad Cycle Timeline</title>
    <style>
        body {
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
            margin: 40px;
            background: linear-gradient(120deg, #e3f0ff 0%, #f7f7f7 100%);
        }
        .timeline-container {
            max-width: 1200px;
            width: 120%;
            margin: 0 auto;
            background: rgba(255,255,255,0.95);
            padding: 40px 48px 48px 48px;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(25, 118, 210, 0.10), 0 1.5px 8px rgba(0,0,0,0.07);
            transition: box-shadow 0.3s;
        }
        .timeline-container:hover {
            box-shadow: 0 12px 40px rgba(25, 118, 210, 0.18), 0 2px 12px rgba(0,0,0,0.10);
        }
        .timeline-bar {
            position: relative;
            height: 18px;
            background: linear-gradient(90deg, #e0e0e0 0%, #b3c6e7 100%);
            border-radius: 10px;
            margin: 24px 0 32px 0;
            min-width: 100%;
            margin-top: 32px;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.07);
        }
        .cycle-segment {
            position: absolute;
            top: 0;
            height: 100%;
            background: linear-gradient(90deg, #90caf9 0%, #1976d2 100%);
            border-radius: 10px;
            border: none;
            opacity: 0.85;
            overflow: visible;
            min-width: 2%;
            transition: background 0.3s, opacity 0.3s;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.10);
        }
        .cycle-segment.current {
            background: linear-gradient(90deg, #1976d2 0%, #64b5f6 100%);
            opacity: 1;
            z-index: 2;
            box-shadow: 0 4px 16px rgba(25, 118, 210, 0.18);
        }
        .cycle-segment:hover {
            opacity: 1;
            background: linear-gradient(90deg, #42a5f5 0%, #1976d2 100%);
            cursor: pointer;
        }
        .cycle-label {
            position: absolute;
            top: -32px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1rem;
            color: #1976d2;
            white-space: nowrap;
            background: #fff;
            padding: 2px 10px;
            border-radius: 8px;
            box-shadow: 0 1px 8px rgba(25, 118, 210, 0.10);
            border: 1.5px solid #1976d2;
            font-weight: 600;
            letter-spacing: 0.02em;
            transition: color 0.2s, border 0.2s;
        }
        .cycle-segment.current .cycle-label {
            color: #fff;
            background: #1976d2;
            border: 1.5px solid #fff;
            box-shadow: 0 2px 12px rgba(25, 118, 210, 0.18);
        }
        .timeline-indicator {
            position: absolute;
            top: -18px;
            width: 0;
            height: 54px;
            border-left: 4px solid #d32f2f;
            left: 0;
            z-index: 3;
            animation: indicator-pop 0.7s cubic-bezier(.68,-0.55,.27,1.55);
        }
        @keyframes indicator-pop {
            0% { height: 0; opacity: 0; }
            60% { height: 60px; opacity: 1; }
            100% { height: 54px; opacity: 1; }
        }
        .indicator-label {
            position: absolute;
            top: 38px;
            left: 50%;
            transform: translateX(-50%);
            color: #d32f2f;
            font-weight: bold;
            font-size: 1.05rem;
            background: #fff;
            padding: 4px 14px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(211,47,47,0.10);
            border: 1.5px solid #d32f2f;
            letter-spacing: 0.02em;
            animation: fade-in 1s;
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        #timeline-cycles {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            justify-content: center;
            margin-bottom: 40px;
            margin-top: 0;
        }
        .cycle-info {
            background: linear-gradient(120deg, #e3f0ff 0%, #f7f7f7 100%);
            border-radius: 12px;
            padding: 16px 24px;
            font-size: 1.08rem;
            color: #1976d2;
            border: 2px solid #e0e0e0;
            box-shadow: 0 1px 8px rgba(25, 118, 210, 0.07);
            font-weight: 500;
            min-width: 220px;
            text-align: center;
            transition: border 0.2s, box-shadow 0.2s;
        }
        .cycle-info.current {
            border: 2.5px solid #1976d2;
            background: linear-gradient(120deg, #1976d2 0%, #64b5f6 100%);
            color: #fff;
            box-shadow: 0 2px 16px rgba(25, 118, 210, 0.18);
        }
        .cycle-info:hover {
            border: 2.5px solid #42a5f5;
            box-shadow: 0 4px 16px rgba(25, 118, 210, 0.18);
            cursor: pointer;
        }
        .footer {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #1976d2;
            font-size: 1.08rem;
            font-weight: 500;
            letter-spacing: 0.03em;
            opacity: 0.85;
            padding: 18px 0 0 0;
            width: 100%;
        }
        .footer-right {
            text-align: right;
            flex: 1;
        }
        .source-link {
            display: inline-block;
            background: linear-gradient(90deg, #1976d2 0%, #64b5f6 100%);
            color: #fff;
            text-decoration: none;
            padding: 8px 18px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.10);
            transition: background 0.2s, box-shadow 0.2s;
            margin-right: 12px;
        }
        .source-link:hover {
            background: linear-gradient(90deg, #42a5f5 0%, #1976d2 100%);
            box-shadow: 0 4px 16px rgba(25, 118, 210, 0.18);
        }
        @media (max-width: 800px) {
            .timeline-container { padding: 10px; width: 100%; max-width: 100vw; }
            .cycle-label { font-size: 0.7rem; }
            #timeline-cycles { gap: 8px; }
            .cycle-info { min-width: 120px; padding: 8px 6px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="timeline-container">
        <h2>Squad Cycle Timeline</h2>
        <div id="timeline-cycles"></div>
        <div class="timeline-bar" id="timeline-bar"></div>
        <div id="current-indicator"></div>
        <footer class="footer">
            <a href="https://www.notion.so/mindbody/18adda30e2318059a801d403b3f33936?v=18adda30e2318059ab15000c753efefe" target="_blank" rel="noopener" class="source-link">Source of Truth</a>
            <span class="footer-right">Created by Anil Indorkar</span>
        </footer>
    </div>
    <script>
        // Squad cycles data
        const squadCycles = [
            { name: '2025.Q1.H1', label: 'Past', start: '2024-12-04', end: '2025-02-18' },
            { name: '2025.Q1.H2', label: 'Last', start: '2025-02-19', end: '2025-04-01' },
            { name: '2025.Q2.H1', label: 'Current', start: '2025-04-02', end: '2025-05-14' },
            { name: '2025.Q2.H2', label: 'Next', start: '2025-05-15', end: '2025-06-26' },
            { name: '2025.Q3.H1', label: 'Future', start: '2025-06-27', end: '2025-08-01' },
            { name: '2025.Q3.H2', label: 'Future', start: '2025-08-04', end: '2025-09-15' },
            { name: '2025.Q4.H1', label: 'Future', start: '2025-09-16', end: null },
            { name: '2025.Q4.H2', label: 'Future', start: null, end: null },
        ];

        // Find min and max dates for the timeline
        const parseDate = d => d ? new Date(d) : null;
        const allDates = squadCycles.flatMap(c => [parseDate(c.start), parseDate(c.end)]).filter(Boolean);
        const minDate = new Date(Math.min(...allDates));
        const maxDate = new Date(Math.max(...allDates));
        const today = new Date('2025-05-26'); // Use current date

        // Render cycles as segments
        const bar = document.getElementById('timeline-bar');
        bar.innerHTML = '';
        let barHTML = '';
        let minLeft = 100, maxRight = 0;
        squadCycles.forEach((cycle, idx) => {
            if (!cycle.start) return; // skip cycles with no start
            const start = parseDate(cycle.start);
            const end = cycle.end ? parseDate(cycle.end) : maxDate;
            const total = maxDate - minDate;
            const left = ((start - minDate) / total) * 100;
            const width = ((end - start) / total) * 100;
            minLeft = Math.min(minLeft, left);
            maxRight = Math.max(maxRight, left + width);
            const isCurrent = today >= start && today <= end;
            barHTML += `<div class="cycle-segment${isCurrent ? ' current' : ''}" style="left:${left}%;width:${width}%" title="${cycle.name}: ${cycle.label}\n${cycle.start}${cycle.end ? ' → ' + cycle.end : ''}">
                <span class="cycle-label">${cycle.name}</span>
            </div>`;
        });
        bar.innerHTML = barHTML;
        // Ensure the bar is always 100% width and segments are visible
        bar.style.minWidth = '100%';
        bar.style.overflow = 'visible';

        // Render cycle labels below
        const cyclesDiv = document.getElementById('timeline-cycles');
        cyclesDiv.innerHTML = squadCycles.map(c => c.start ? `<div class="cycle-info${c.label === 'Current' ? ' current' : ''}"><b>${c.name}</b> <span>${c.label}</span><br><small>${c.start}${c.end ? ' → ' + c.end : ''}</small></div>` : '').join('');

        // Show current date indicator
        const indicator = document.getElementById('current-indicator');
        const total = maxDate - minDate;
        const elapsed = Math.max(0, Math.min(today - minDate, total));
        const percent = total > 0 ? (elapsed / total) * 100 : 0;
        indicator.innerHTML = `<div class="timeline-indicator" style="left:calc(${percent}% - 2px)">
            <div class="indicator-label">${today.toLocaleDateString()}</div>
        </div>`;
    </script>
</body>
</html>
